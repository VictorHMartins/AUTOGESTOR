{% extends "base.html" %}
{% load socialaccount %}

{% block content %}
<div class="flex items-center justify-center min-h-screen bg-gray-900">
  <div class="w-full max-w-md p-8 rounded-2xl shadow-xl bg-gradient-to-br from-[#0f172a] via-[#1e293b] to-[#334155]">

    <h2
      class="text-3xl font-bold text-center bg-gradient-to-r from-[#00b4d8] to-[#48cae4] text-transparent bg-clip-text mb-6">
      {% if tipo %} Cadastro de {{ tipo }} {% else %} Criar Conta {% endif %}
    </h2>

    <form method="POST" class="space-y-4">
      {% csrf_token %}
      {% if form.errors %}
      <div class="bg-red-600 text-white p-3 rounded-lg text-sm mb-4">
        <ul class="list-disc pl-5">
          {% for field, errors in form.errors.items %}
          {% for error in errors %}
          <li><strong>{{ field|title }}</strong>: {{ error }}</li>
          {% endfor %}
          {% endfor %}
        </ul>
      </div>
      {% endif %}
      <div>
        <label class="block text-sm text-gray-200">Nome Completo</label>
        <input type="text" name="first_name" value="{{ form.first_name.value|default_if_none:'' }}"
          class="w-full px-4 py-2 rounded-lg bg-gray-800 text-gray-100" required>
      </div>

      <div>
        <label class="block text-sm text-gray-200">Telefone</label>
        <input type="text" name="phone" value="{{ form.phone.value|default_if_none:'' }}"
          class="w-full px-4 py-2 rounded-lg bg-gray-800 text-gray-100" required>
      </div>

      <div>
        <label class="block text-sm text-gray-200">CPF</label>
        <input type="text" name="cpf" value="{{ form.cpf.value|default_if_none:'' }}"
          class="w-full px-4 py-2 rounded-lg bg-gray-800 text-gray-100" required>
      </div>

      <div>
        <label class="block text-sm text-gray-200">E-mail</label>
        <input type="email" name="email" value="{{ form.email.value|default_if_none:'' }}"
          class="w-full px-4 py-2 rounded-lg bg-gray-800 text-gray-100" required>
      </div>

      <div>
        <label class="block text-sm text-gray-200">Senha</label>
        <input type="password" name="password1" class="w-full px-4 py-2 rounded-lg bg-gray-800 text-gray-100" required>
      </div>

      <div>
        <label class="block text-sm text-gray-200">Confirmar Senha</label>
        <input type="password" name="password2" class="w-full px-4 py-2 rounded-lg bg-gray-800 text-gray-100" required>
      </div>

      <button type="submit"
        class="w-full py-3 mt-4 bg-orange-500 hover:bg-orange-600 text-white font-bold rounded-lg transition">
        Registrar
      </button>
    </form>

    <div class="flex items-center justify-center mt-4">
      <span class="text-gray-400 text-sm">Ou continue com</span>
    </div>

    {% load socialaccount %}

    <a href="{% provider_login_url 'google' process='login' %}"
      class="w-full mt-2 flex items-center justify-center gap-2 py-3 border border-gray-600 rounded-lg text-gray-200 hover:bg-gray-800 transition">
      <img src="https://www.svgrepo.com/show/475656/google-color.svg" class="w-5 h-5" alt="Google">
      Entrar com Google
    </a>

    <p class="mt-6 text-center text-sm text-gray-400">
      JÃ¡ tem conta?
      <a href="{% url 'login' %}" class="text-orange-400 hover:underline">Entrar</a>
    </p>
  </div>
</div>
{% endblock %}